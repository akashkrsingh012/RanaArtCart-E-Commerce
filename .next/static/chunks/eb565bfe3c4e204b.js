(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30304,e=>{"use strict";var s=e.i(36948),t=e.i(69363),r=e.i(91796),i=e.i(19889),o=e.i(89943),l=e.i(84581),a=e.i(29474);function n(){let{user:e,isLoggedIn:n,removeFromWishlist:d}=(0,t.useUser)(),{addItem:c}=(0,a.useCart)(),m=(0,r.useRouter)(),[h,u]=(0,i.useState)([]),[g,x]=(0,i.useState)(!0);if((0,i.useEffect)(()=>{let e=async()=>{try{let e=localStorage.getItem("accessToken");if(!e)return;let s=await fetch("/api/wishlist",{headers:{Authorization:`Bearer ${e}`}});if(s.ok){let e=await s.json();u(e.wishlist||[])}}catch(e){console.error("Failed to fetch wishlist",e)}finally{x(!1)}};n?e():localStorage.getItem("accessToken")||g?x(!1):m.push("/login")},[n,m]),!e)return null;let p=h.filter(s=>e.wishlist.includes(s._id));return(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-8",children:"My Wishlist"}),g?(0,s.jsx)("div",{className:"flex justify-center p-12",children:"Loading..."}):0===p.length?(0,s.jsxs)("div",{className:"bg-card rounded-lg border border-border p-12 text-center",children:[(0,s.jsx)(o.Heart,{size:48,className:"mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Your wishlist is empty"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Add items to your wishlist to save them for later"}),(0,s.jsx)("button",{onClick:()=>m.push("/"),className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg font-semibold hover:opacity-90 transition-opacity",children:"Continue Shopping"})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(e=>(0,s.jsxs)("div",{className:"bg-card rounded-lg overflow-hidden border border-border hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-48 object-cover"}),(0,s.jsx)("button",{onClick:()=>d(e._id),className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-muted transition-colors","aria-label":"Remove from wishlist",children:(0,s.jsx)(o.Heart,{size:18,fill:"#C85A17",color:"#C85A17"})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm text-foreground line-clamp-2 mb-1",children:e.name}),(0,s.jsx)("div",{className:"flex items-center gap-2 mb-3",children:(0,s.jsxs)("span",{className:"text-lg font-bold text-primary",children:["â‚¹",e.price.toLocaleString("en-IN")]})}),(0,s.jsxs)("button",{onClick:()=>{c({id:e._id,name:e.name,price:e.price,image:e.image,quantity:1})},className:"w-full bg-secondary text-secondary-foreground py-2 rounded-lg font-semibold hover:bg-primary hover:text-primary-foreground transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(l.ShoppingCart,{size:16}),"Add to Cart"]})]})]},e._id))})]})})}e.s(["default",()=>n])}]);